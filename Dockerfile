FROM dockersamples/visualizer

LABEL maintainer="Secret Lee" \
      io.daocloud.dce.plugin.name="dce-visualizer-plugin" \
      io.daocloud.dce.plugin.description="visualizer 是 Docker Swarm Mode 的可视化工具" \
      io.daocloud.dce.plugin.categories="container-tool" \
      io.daocloud.dce.plugin.icon-src="data:image/svg+xml;base64,JTNjc3ZnK3htbG5zJTNkJTIyaHR0cCUzYSUyZiUyZnd3dy53My5vcmclMmYyMDAwJTJmc3ZnJTIyK3ZpZXdCb3glM2QlMjIwKzArMTI4KzEyOCUyMiUzZSUzY2clM2UlM2NwYXRoK2ZpbGwtcnVsZSUzZCUyMmV2ZW5vZGQlMjIrY2xpcC1ydWxlJTNkJTIyZXZlbm9kZCUyMitmaWxsJTNkJTIyJTIzM0E0RDU0JTIyK2QlM2QlMjJNNzMuOCs1MC44aDExLjN2MTEuNWg1LjdjMi42KzArNS4zLS41KzcuOC0xLjMrMS4yLS40KzIuNi0xKzMuOC0xLjctMS42LTIuMS0yLjQtNC43LTIuNi03LjMtLjMtMy41LjQtOC4xKzIuOC0xMC44bDEuMi0xLjQrMS40KzEuMWMzLjYrMi45KzYuNSs2LjgrNy4xKzExLjQrNC4zLTEuMys5LjMtMSsxMy4xKzEuMmwxLjUuOS0uOCsxLjZjLTMuMis2LjItOS45KzguMi0xNi40KzcuOC05LjgrMjQuMy0zMSszNS44LTU2LjgrMzUuOC0xMy4zKzAtMjUuNS01LTMyLjUtMTYuOGwtLjEtLjItMS0yLjFjLTIuNC01LjItMy4xLTEwLjktMi42LTE2LjZsLjItMS43aDkuNnYtMTEuNGgxMS4zdi0xMS4yaDIyLjV2LTExLjNoMTMuNXYyMi41eiUyMiUyZiUzZSUzY3BhdGgrZmlsbCUzZCUyMiUyMzAwQUFEQSUyMitkJTNkJTIyTTExMC40KzU1LjFjLjgtNS45LTMuNi0xMC41LTYuNC0xMi43LTMuMSszLjYtMy42KzEzLjIrMS4zKzE3LjItMi44KzIuNC04LjUrNC43LTE0LjUrNC43aC03Mi4yYy0uNis2LjIuNSsxMS45KzMrMTYuOGwuOCsxLjVjLjUuOSsxLjErMS43KzEuNysyLjYrMysuMis1LjcuMys4LjIuMis0LjktLjErOC45LS43KzEyLTEuNy41LS4yLjkuMSsxLjEuNS4yLjUtLjEuOS0uNSsxLjEtLjQuMS0uOC4zLTEuMy40LTIuNC43LTUrMS4xLTguMysxLjNoLS42MDAwMDAwMDAwMDAwMDAxYy0xLjMuMS0yLjcuMS00LjIuMS0xLjYrMC0zLjErMC00LjktLjErNis2LjgrMTUuNCsxMC44KzI3LjIrMTAuOCsyNSswKzQ2LjItMTEuMSs1NS41LTM1LjkrNi43LjcrMTMuMS0xKzE2LTYuNy00LjUtMi43LTEwLjUtMS44LTEzLjktLjF6JTIyJTJmJTNlJTNjcGF0aCtmaWxsJTNkJTIyJTIzMjhCOEVCJTIyK2QlM2QlMjJNMTEwLjQrNTUuMWMuOC01LjktMy42LTEwLjUtNi40LTEyLjctMy4xKzMuNi0zLjYrMTMuMisxLjMrMTcuMi0yLjgrMi40LTguNSs0LjctMTQuNSs0LjdoLTY4Yy0uMys5LjUrMy4yKzE2LjcrOS41KzIxKzQuOS0uMSs4LjktLjcrMTItMS43LjUtLjIuOS4xKzEuMS41LjIuNS0uMS45LS41KzEuMS0uNC4xLS44LjMtMS4zLjQtMi40LjctNS4yKzEuMi04LjUrMS40bC0uMS0uMWM4LjUrNC40KzIwLjgrNC4zKzM1LTEuMSsxNS44LTYuMSszMC42LTE3LjcrNDAuOS0zMC45LS4yLjEtLjQuMS0uNS4yeiUyMiUyZiUzZSUzY3BhdGgrZmlsbCUzZCUyMiUyMzAyOEJCOCUyMitkJTNkJTIyTTE4LjcrNzEuOGMuNCszLjMrMS40KzYuNCsyLjkrOS4zbC44KzEuNWMuNS45KzEuMSsxLjcrMS43KzIuNiszKy4yKzUuNy4zKzguMi4yKzQuOS0uMSs4LjktLjcrMTItMS43LjUtLjIuOS4xKzEuMS41LjIuNS0uMS45LS41KzEuMS0uNC4xLS44LjMtMS4zLjQtMi40LjctNS4yKzEuMi04LjUrMS40aC0uNGMtMS4zLjEtMi43LjEtNC4xLjEtMS42KzAtMy4yKzAtNC45LS4xKzYrNi44KzE1LjUrMTAuOCsyNy4zKzEwLjgrMjEuNCswKzQwLTguMSs1MC44LTI2aC04NS4xdi0uMXolMjIlMmYlM2UlM2NwYXRoK2ZpbGwlM2QlMjIlMjMwMTlCQzYlMjIrZCUzZCUyMk0yMy41KzcxLjhjMS4zKzUuOCs0LjMrMTAuNCs4LjgrMTMuNSs0LjktLjErOC45LS43KzEyLTEuNy41LS4yLjkuMSsxLjEuNS4yLjUtLjEuOS0uNSsxLjEtLjQuMS0uOC4zLTEuMy40LTIuNC43LTUuMisxLjItOC42KzEuNCs4LjUrNC40KzIwLjgrNC4zKzM0LjktMS4xKzguNS0zLjMrMTYuOC04LjIrMjQuMi0xNC4xaC03MC42eiUyMiUyZiUzZSUzY3BhdGgrZmlsbC1ydWxlJTNkJTIyZXZlbm9kZCUyMitjbGlwLXJ1bGUlM2QlMjJldmVub2RkJTIyK2ZpbGwlM2QlMjIlMjMwMEFDRDMlMjIrZCUzZCUyMk0yOC40KzUyLjdoOS44djkuOGgtOS44di05Ljh6bS44LjhoLjh2OC4xaC0uOHYtOC4xem0xLjQrMGguOHY4LjFoLS44di04LjF6bTEuNSswaC44djguMWgtLjh2LTguMXptMS41KzBoLjh2OC4xaC0uOHYtOC4xem0xLjUrMGguOHY4LjFoLS44di04LjF6bTEuNSswaC44djguMWgtLjh2LTguMXpNMzkuNis0MS41aDkuOHY5LjhoLTkuOHYtOS44em0uOS44aC44djguMWgtLjh2LTguMXptMS40KzBoLjh2OC4xaC0uOHYtOC4xem0xLjUrMGguOHY4LjFoLS44di04LjF6bTEuNSswaC44djguMWgtLjh2LTguMXptMS40KzBoLjh2OC4xaC0uOHYtOC4xem0xLjUrMGguOHY4LjFoLS44di04LjF6JTIyJTJmJTNlJTNjcGF0aCtmaWxsLXJ1bGUlM2QlMjJldmVub2RkJTIyK2NsaXAtcnVsZSUzZCUyMmV2ZW5vZGQlMjIrZmlsbCUzZCUyMiUyMzIzQzJFRSUyMitkJTNkJTIyTTM5LjYrNTIuN2g5Ljh2OS44aC05Ljh2LTkuOHptLjkuOGguOHY4LjFoLS44di04LjF6bTEuNCswaC44djguMWgtLjh2LTguMXptMS41KzBoLjh2OC4xaC0uOHYtOC4xem0xLjUrMGguOHY4LjFoLS44di04LjF6bTEuNCswaC44djguMWgtLjh2LTguMXptMS41KzBoLjh2OC4xaC0uOHYtOC4xeiUyMiUyZiUzZSUzY3BhdGgrZmlsbC1ydWxlJTNkJTIyZXZlbm9kZCUyMitjbGlwLXJ1bGUlM2QlMjJldmVub2RkJTIyK2ZpbGwlM2QlMjIlMjMwMEFDRDMlMjIrZCUzZCUyMk01MC45KzUyLjdoOS44djkuOGgtOS44di05Ljh6bS44LjhoLjh2OC4xaC0uOHYtOC4xem0xLjUrMGguOHY4LjFoLS44di04LjF6bTEuNSswaC44djguMWgtLjh2LTguMXptMS40KzBoLjh2OC4xaC0uOHYtOC4xem0xLjUrMGguOHY4LjFoLS44di04LjF6bTEuNSswaC44djguMWgtLjh2LTguMXolMjIlMmYlM2UlM2NwYXRoK2ZpbGwtcnVsZSUzZCUyMmV2ZW5vZGQlMjIrY2xpcC1ydWxlJTNkJTIyZXZlbm9kZCUyMitmaWxsJTNkJTIyJTIzMjNDMkVFJTIyK2QlM2QlMjJNNTAuOSs0MS41aDkuOHY5LjhoLTkuOHYtOS44em0uOC44aC44djguMWgtLjh2LTguMXptMS41KzBoLjh2OC4xaC0uOHYtOC4xem0xLjUrMGguOHY4LjFoLS44di04LjF6bTEuNCswaC44djguMWgtLjh2LTguMXptMS41KzBoLjh2OC4xaC0uOHYtOC4xem0xLjUrMGguOHY4LjFoLS44di04LjF6TTYyLjIrNTIuN2g5Ljh2OS44aC05Ljh2LTkuOHptLjguOGguOHY4LjFoLS44di04LjF6bTEuNSswaC44djguMWgtLjh2LTguMXptMS40KzBoLjh2OC4xaC0uOHYtOC4xem0xLjUrMGguOHY4LjFoLS44di04LjF6bTEuNSswaC44djguMWgtLjh2LTguMXptMS41KzBoLjh2OC4xaC0uOHYtOC4xeiUyMiUyZiUzZSUzY3BhdGgrZmlsbC1ydWxlJTNkJTIyZXZlbm9kZCUyMitjbGlwLXJ1bGUlM2QlMjJldmVub2RkJTIyK2ZpbGwlM2QlMjIlMjMwMEFDRDMlMjIrZCUzZCUyMk02Mi4yKzQxLjVoOS44djkuOGgtOS44di05Ljh6bS44LjhoLjh2OC4xaC0uOHYtOC4xem0xLjUrMGguOHY4LjFoLS44di04LjF6bTEuNCswaC44djguMWgtLjh2LTguMXptMS41KzBoLjh2OC4xaC0uOHYtOC4xem0xLjUrMGguOHY4LjFoLS44di04LjF6bTEuNSswaC44djguMWgtLjh2LTguMXolMjIlMmYlM2UlM2NwYXRoK2ZpbGwtcnVsZSUzZCUyMmV2ZW5vZGQlMjIrY2xpcC1ydWxlJTNkJTIyZXZlbm9kZCUyMitmaWxsJTNkJTIyJTIzMjNDMkVFJTIyK2QlM2QlMjJNNjIuMiszMC4yaDkuOHY5LjhoLTkuOHYtOS44em0uOC44aC44djguMWgtLjh2LTguMXptMS41KzBoLjh2OC4xaC0uOHYtOC4xem0xLjQrMGguOHY4LjFoLS44di04LjF6bTEuNSswaC44djguMWgtLjh2LTguMXptMS41KzBoLjh2OC4xaC0uOHYtOC4xem0xLjUrMGguOHY4LjFoLS44di04LjF6JTIyJTJmJTNlJTNjcGF0aCtmaWxsLXJ1bGUlM2QlMjJldmVub2RkJTIyK2NsaXAtcnVsZSUzZCUyMmV2ZW5vZGQlMjIrZmlsbCUzZCUyMiUyMzAwQUNEMyUyMitkJTNkJTIyTTczLjUrNTIuN2g5Ljh2OS44aC05Ljh2LTkuOHptLjguOGguOHY4LjFoLS44di04LjF6bTEuNCswaC44djguMWgtLjh2LTguMXptMS41KzBoLjh2OC4xaC0uOHYtOC4xem0xLjUrMGguOHY4LjFoLS44di04LjF6bTEuNSswaC44djguMWgtLjh2LTguMXptMS41KzBoLjh2OC4xaC0uOHYtOC4xeiUyMiUyZiUzZSUzY3BhdGgrZmlsbC1ydWxlJTNkJTIyZXZlbm9kZCUyMitjbGlwLXJ1bGUlM2QlMjJldmVub2RkJTIyK2ZpbGwlM2QlMjIlMjNENEVFRjElMjIrZCUzZCUyMk00OC44Kzc4LjNjMS41KzArMi43KzEuMisyLjcrMi43KzArMS41LTEuMisyLjctMi43KzIuNy0xLjUrMC0yLjctMS4yLTIuNy0yLjcrMC0xLjUrMS4yLTIuNysyLjctMi43JTIyJTJmJTNlJTNjcGF0aCtmaWxsLXJ1bGUlM2QlMjJldmVub2RkJTIyK2NsaXAtcnVsZSUzZCUyMmV2ZW5vZGQlMjIrZmlsbCUzZCUyMiUyMzNBNEQ1NCUyMitkJTNkJTIyTTQ4LjgrNzkuMWMuMiswKy41KzArLjcuMS0uMi4xLS40LjQtLjQuNyswKy40LjQuOC44LjguMyswKy42LS4yLjctLjQuMS4yLjEuNS4xLjcrMCsxLjEtLjkrMS45LTEuOSsxLjktMS4xKzAtMS45LS45LTEuOS0xLjkrMC0xKy44LTEuOSsxLjktMS45TTEuMSs3Mi44aDEyNS40Yy0yLjctLjctOC42LTEuNi03LjctNS4yLTUrNS43LTE2LjkrNC0yMCsxLjItMy40KzQuOS0yMyszLTI0LjMtLjgtNC4yKzUtMTcuMys1LTIxLjUrMC0xLjQrMy44LTIxKzUuNy0yNC4zLjgtMysyLjgtMTUrNC41LTIwLTEuMisxLjErMy41LTQuOSs0LjUtNy42KzUuMiUyMiUyZiUzZSUzY3BhdGgrZmlsbCUzZCUyMiUyM0JGREJFMCUyMitkJTNkJTIyTTU2Kzk3LjhjLTYuNy0zLjItMTAuMy03LjUtMTIuNC0xMi4yLTIuNS43LTUuNSsxLjItOC45KzEuNC0xLjMuMS0yLjcuMS00LjEuMS0xLjcrMC0zLjQrMC01LjItLjErNis2KzEzLjYrMTAuNysyNy41KzEwLjhoMy4xeiUyMiUyZiUzZSUzY3BhdGgrZmlsbCUzZCUyMiUyM0Q0RUVGMSUyMitkJTNkJTIyTTQ2LjErODkuOWMtLjktMS4zLTEuOC0yLjgtMi41LTQuMy0yLjUuNy01LjUrMS4yLTguOSsxLjQrMi4zKzEuMis1LjcrMi40KzExLjQrMi45eiUyMiUyZiUzZSUzYyUyZmclM2UlM2MlMmZzdmclM2U="\
      io.daocloud.dce.plugin.vendor="Community" \
      io.daocloud.dce.plugin.required-dce-version=">=2.2.0" \
      io.daocloud.dce.plugin.nano-cpus-limit="500000000" \
      io.daocloud.dce.plugin.memory-bytes-limit="52428800"

RUN sed -i s/8080/80/g /app/server.js

COPY ./plugin.json /app/dist/plugin.json

RUN sed -i s/window.location.host/window.location.host+window.location.pathname/g /app/dist/app.js

EXPOSE 80
